import{d as ee,e as ie,f as P,h as te}from"./chunk-W36A6ZGT.js";import{$a as R,Aa as p,B as k,Cb as f,Ga as S,N as Z,Na as Q,Oa as d,Pa as c,Qa as w,R as K,Ra as D,S as Y,Sa as T,Ta as A,Ua as y,Va as L,Wa as r,X as C,Xa as s,Y as h,Ya as _,Za as E,_a as X,ab as b,bb as l,d as G,db as u,eb as z,fb as m,gb as v,j as V,pa as W,q as O,qa as J,ra as n,rb as q,va as N,w as $}from"./chunk-E4C5X23C.js";function ne(o,t){if(o&1){let e=E();r(0,"div",6)(1,"div",7)(2,"span",8),m(3),s(),r(4,"span",9),m(5),s()(),r(6,"div",10),_(7,"i",11),s(),r(8,"button",12),b("click",function(){C(e);let a=l();return h(a.onLogout())}),_(9,"i",13),s()()}if(o&2){let e=l();n(3),v(e.currentUser.name),n(2),v(e.currentUser.role)}}var F=class o{currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;isSidebarHovered=!1;toggleSidebar=new S;logout=new S;onToggleSidebar(){this.toggleSidebar.emit()}onLogout(){this.logout.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-navbar"]],inputs:{currentUser:"currentUser",isSidebarCollapsed:"isSidebarCollapsed",isMobile:"isMobile",isSidebarOpen:"isSidebarOpen",isSidebarHovered:"isSidebarHovered"},outputs:{toggleSidebar:"toggleSidebar",logout:"logout"},decls:7,vars:7,consts:[[1,"navbar"],[1,"navbar-content"],[1,"navbar-left"],[1,"sidebar-toggle",3,"click"],[1,"fas","fa-bars"],[1,"navbar-right"],[1,"user-menu"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"user-avatar"],[1,"fas","fa-user"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(e,i){e&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return i.onToggleSidebar()}),_(4,"i",4),s()(),r(5,"div",5),d(6,ne,10,2,"div",6),s()()()),e&2&&(u("sidebar-collapsed",i.isSidebarCollapsed&&!i.isSidebarHovered)("mobile-sidebar-open",i.isMobile&&i.isSidebarOpen)("desktop-sidebar-hovered",!i.isMobile&&i.isSidebarCollapsed&&i.isSidebarHovered),n(6),c(i.currentUser?6:-1))},dependencies:[f],encapsulation:2})};var M={MOBILE_BREAKPOINT:768,SIDEBAR:{COLLAPSED_WIDTH:"80px",EXPANDED_WIDTH:"280px",ANIMATION_DURATION:"0.3s"},NAVIGATION:{SECTIONS:[{id:"home",title:"HOME",items:[{route:"/home-page",icon:"fas fa-home",label:"Home Page",id:"home-page"},{route:"/blog",icon:"fas fa-blog",label:"Blog",id:"blog"},{route:"/blog-details",icon:"fas fa-file-alt",label:"Blog Details",id:"blog-details"},{route:"/portfolio",icon:"fas fa-briefcase",label:"Portfolio",id:"portfolio"},{route:"/contact",icon:"fas fa-envelope",label:"Contact",id:"contact"}]},{id:"main",title:"",items:[{route:"/analytical",icon:"fas fa-globe",label:"Analytical",id:"analytical",isActive:!0},{route:"/ecommerce",icon:"fas fa-shopping-cart",label:"eCommerce",id:"ecommerce"},{route:"/frontend-pages",icon:"fas fa-file-alt",label:"Frontend pages",id:"frontend-pages",hasSubmenu:!0,submenu:[{route:"/frontend-pages/landing",label:"Landing Page",id:"landing"},{route:"/frontend-pages/pricing",label:"Pricing",id:"pricing"},{route:"/frontend-pages/about",label:"About Us",id:"about"}]}]},{id:"apps",title:"APPS",items:[{route:"/chat",icon:"fas fa-comment-dots",label:"Chat",id:"chat"},{route:"/calendar",icon:"fas fa-calendar-alt",label:"Calendar",id:"calendar"},{route:"/email",icon:"fas fa-envelope",label:"Email",id:"email"},{route:"/kanban",icon:"fas fa-columns",label:"Kanban",id:"kanban"},{route:"/contacts",icon:"fas fa-address-book",label:"Contacts",id:"contacts"},{route:"/employee",icon:"fas fa-users",label:"Employee",id:"employee"},{route:"/notes",icon:"fas fa-sticky-note",label:"Notes",id:"notes"},{route:"/tickets",icon:"fas fa-ticket-alt",label:"Tickets",id:"tickets"},{route:"/invoice",icon:"fas fa-file-invoice",label:"Invoice",id:"invoice"},{route:"/user-profile",icon:"fas fa-user",label:"User Profile",id:"user-profile",badge:{text:"New",color:"orange"}}]},{id:"tables",title:"TABLES",items:[{route:"/tables/basic",icon:"fas fa-table",label:"Basic Tables",id:"basic-tables"},{route:"/tables/data",icon:"fas fa-database",label:"Data Tables",id:"data-tables"},{route:"/tables/responsive",icon:"fas fa-mobile-alt",label:"Responsive Tables",id:"responsive-tables"},{route:"/tables/advanced",icon:"fas fa-chart-bar",label:"Advanced Tables",id:"advanced-tables"}]}],ITEMS:[{route:"/home-page",icon:"fas fa-home",label:"Home Page",id:"home-page"},{route:"/blog",icon:"fas fa-blog",label:"Blog",id:"blog"},{route:"/blog-details",icon:"fas fa-file-alt",label:"Blog Details",id:"blog-details"},{route:"/portfolio",icon:"fas fa-briefcase",label:"Portfolio",id:"portfolio"},{route:"/contact",icon:"fas fa-envelope",label:"Contact",id:"contact"},{route:"/analytical",icon:"fas fa-globe",label:"Analytical",id:"analytical"},{route:"/ecommerce",icon:"fas fa-shopping-cart",label:"eCommerce",id:"ecommerce"},{route:"/frontend-pages",icon:"fas fa-file-alt",label:"Frontend pages",id:"frontend-pages"},{route:"/chat",icon:"fas fa-comment-dots",label:"Chat",id:"chat"},{route:"/calendar",icon:"fas fa-calendar-alt",label:"Calendar",id:"calendar"},{route:"/email",icon:"fas fa-envelope",label:"Email",id:"email"},{route:"/kanban",icon:"fas fa-columns",label:"Kanban",id:"kanban"},{route:"/contacts",icon:"fas fa-address-book",label:"Contacts",id:"contacts"},{route:"/employee",icon:"fas fa-users",label:"Employee",id:"employee"},{route:"/notes",icon:"fas fa-sticky-note",label:"Notes",id:"notes"},{route:"/tickets",icon:"fas fa-ticket-alt",label:"Tickets",id:"tickets"},{route:"/invoice",icon:"fas fa-file-invoice",label:"Invoice",id:"invoice"},{route:"/user-profile",icon:"fas fa-user",label:"User Profile",id:"user-profile"},{route:"/tables/basic",icon:"fas fa-table",label:"Basic Tables",id:"basic-tables"},{route:"/tables/data",icon:"fas fa-database",label:"Data Tables",id:"data-tables"},{route:"/tables/responsive",icon:"fas fa-mobile-alt",label:"Responsive Tables",id:"responsive-tables"},{route:"/tables/advanced",icon:"fas fa-chart-bar",label:"Advanced Tables",id:"advanced-tables"}]},APP:{NAME:"Admixion",LOGO_PATH:"./logo.png",FALLBACK_LOGO:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQwKSIvPgo8cGF0aCBkPSJNMjAgMTBDMTYuNjg2MyAxMCAxNCAxMi42ODYzIDE0IDE2QzE0IDE5LjMxMzcgMTYuNjg2MyAyMiAyMCAyMkMyMy4zMTM3IDIyIDI2IDE5LjMxMzcgMjYgMTZDMjYgMTIuNjg2MyAyMy4zMTM3IDEwIDIwIDEwWiIgZmlsbD0id2hpdGUiLz4KPHN2Zz4KCg=="},PERFORMANCE:{CHANGE_DETECTION_STRATEGY:"OnPush",ENABLE_LAZY_LOADING:!0,DEBOUNCE_TIME:300,SASS_MODERN_FUNCTIONS:!0},STYLES:{COLOR_ADJUSTMENTS:{DARKEN_HOVER:5,DARKEN_ACTIVE:10,LIGHTEN_HOVER:5},ANIMATIONS:{DURATION_FAST:"0.2s",DURATION_NORMAL:"0.3s",TIMING_FUNCTION:"cubic-bezier(0.4, 0, 0.2, 1)"}}};var I=class o{constructor(t){this.router=t;this.initRouteTracking(),this.setInitialActiveRoute()}currentRouteSubject=new V("");expandedMenusSubject=new V(new Set);currentRoute$=this.currentRouteSubject.asObservable();expandedMenus$=this.expandedMenusSubject.asObservable();navigationSections=M.NAVIGATION.SECTIONS;navigationItems=M.NAVIGATION.ITEMS;initRouteTracking(){this.currentRouteSubject.next(this.router.url),this.router.events.pipe($(t=>t instanceof ee),O(t=>t.url),k()).subscribe(t=>this.currentRouteSubject.next(t))}setInitialActiveRoute(){let t=this.router.url;(t==="/"||t==="")&&this.navigateTo("/analytical")}isActiveRoute(t){return this.currentRoute$.pipe(O(e=>e===t),k())}getCurrentRoute(){return this.currentRouteSubject.value}navigateTo(t){return this.router.navigate([t])}getNavigationItemByRoute(t){for(let e of this.navigationSections){let i=e.items.find(a=>a.route===t);if(i)return i}}toggleSubmenu(t){let e=new Set(this.expandedMenusSubject.value);e.has(t)?e.delete(t):e.add(t),this.expandedMenusSubject.next(e)}isSubmenuExpanded(t){return this.expandedMenus$.pipe(O(e=>e.has(t)),k())}getAllNavigationItems(){let t=[];return this.navigationSections.forEach(e=>{t.push(...e.items)}),t}static \u0275fac=function(e){return new(e||o)(K(P))};static \u0275prov=Z({token:o,factory:o.\u0275fac,providedIn:"root"})};var se=(o,t)=>t.id;function le(o,t){if(o&1){let e=E();r(0,"div",9),b("click",function(){C(e);let a=l();return h(a.onCloseSidebar())}),s()}}function de(o,t){if(o&1&&(r(0,"span"),m(1),s()),o&2){let e=l();n(),v(e.appName)}}function ce(o,t){if(o&1){let e=E();r(0,"button",10),b("click",function(){C(e);let a=l();return h(a.onCloseSidebar())}),_(1,"i",11),s()}}function ue(o,t){if(o&1&&(r(0,"div",12),m(1),s()),o&2){let e=l().$implicit;n(),v(e.title)}}function me(o,t){if(o&1&&(r(0,"span",20),m(1),s()),o&2){let e=l(2).$implicit;z("badge-"+e.badge.color),n(),v(e.badge.text)}}function pe(o,t){if(o&1&&_(0,"i",21),o&2){let e=l(2).$implicit,i=l(2);u("expanded",i.isSubmenuExpanded(e.id))}}function be(o,t){if(o&1&&(r(0,"span",17),m(1),s(),d(2,me,2,3,"span",18),d(3,pe,1,2,"i",19)),o&2){let e=l().$implicit;n(),v(e.label),n(),c(e.badge?2:-1),n(),c(e.hasSubmenu?3:-1)}}function fe(o,t){if(o&1){let e=E();r(0,"li",22)(1,"a",23),b("click",function(){let a=C(e).$implicit,g=l(4);return h(g.onNavigate(a.route))}),r(2,"span"),m(3),s()()()}if(o&2){let e=t.$implicit,i=l(4);n(),u("active",i.isActiveRoute(e.route)),n(2),v(e.label)}}function ve(o,t){if(o&1&&(r(0,"ul",16),w(1,fe,4,3,"li",22,se),s()),o&2){let e=l().$implicit;n(),D(e.submenu)}}function ge(o,t){if(o&1){let e=E();r(0,"li",14)(1,"a",15),b("click",function(){let a=C(e).$implicit,g=l(2);return h(a.hasSubmenu?g.onToggleSubmenu(a.id):g.onNavigate(a.route))}),_(2,"i"),d(3,be,4,3),s(),d(4,ve,3,0,"ul",16),s()}if(o&2){let e=t.$implicit,i=l(2);n(),u("active",i.isActiveRoute(e.route))("has-submenu",e.hasSubmenu),n(),z(e.icon),n(),c(i.shouldShowText()?3:-1),n(),c(e.hasSubmenu&&i.isSubmenuExpanded(e.id)&&i.shouldShowText()?4:-1)}}function Se(o,t){if(o&1&&(r(0,"div",8),d(1,ue,2,1,"div",12),r(2,"ul",13),w(3,ge,5,8,"li",14,Q().trackByRoute,!0),s()()),o&2){let e=t.$implicit,i=l();n(),c(e.title&&i.shouldShowText()?1:-1),n(2),D(e.items)}}var j=class o{currentRoute="";isCollapsed=!1;isMobile=!1;isOpen=!0;isHovered=!1;shouldShowExpanded=!0;navigate=new S;closeSidebar=new S;mouseEnter=new S;mouseLeave=new S;navigationService=Y(I);navigationSections=this.navigationService.navigationSections;navigationItems=this.navigationService.navigationItems;appName=M.APP.NAME;logoPath=M.APP.LOGO_PATH;fallbackLogo=M.APP.FALLBACK_LOGO;onNavigate(t){this.navigate.emit(t)}onCloseSidebar(){this.closeSidebar.emit()}onImageError(t){console.log("Logo not found, using fallback"),t.target.src=this.fallbackLogo}onMouseEnter(){this.mouseEnter.emit()}onMouseLeave(){this.mouseLeave.emit()}onToggleSubmenu(t){this.navigationService.toggleSubmenu(t)}isActiveRoute(t){return this.currentRoute===t}isSubmenuExpanded(t){return this.navigationService.expandedMenusSubject.value.has(t)}shouldShowText(){return this.isMobile?this.isOpen:this.shouldShowExpanded}trackByRoute(t,e){return e.id}trackBySection(t,e){return e.id}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-sidebar"]],inputs:{currentRoute:"currentRoute",isCollapsed:"isCollapsed",isMobile:"isMobile",isOpen:"isOpen",isHovered:"isHovered",shouldShowExpanded:"shouldShowExpanded"},outputs:{navigate:"navigate",closeSidebar:"closeSidebar",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave"},decls:11,vars:10,consts:[[1,"sidebar-overlay","show"],[1,"sidebar",3,"mouseenter","mouseleave"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"logo"],["alt","Logo","loading","lazy",1,"logo-icon",3,"error","src"],[1,"close-btn"],[1,"sidebar-nav"],[1,"nav-section"],[1,"sidebar-overlay","show",3,"click"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"section-title"],[1,"nav-list"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"submenu"],[1,"nav-text"],[1,"nav-badge",3,"class"],[1,"fas","fa-chevron-down","submenu-arrow",3,"expanded"],[1,"nav-badge"],[1,"fas","fa-chevron-down","submenu-arrow"],[1,"submenu-item"],[1,"submenu-link",3,"click"]],template:function(e,i){e&1&&(d(0,le,1,0,"div",0),r(1,"aside",1),b("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"img",5),b("error",function(g){return i.onImageError(g)}),s(),d(6,de,2,1,"span"),s(),d(7,ce,2,0,"button",6),s(),r(8,"nav",7),w(9,Se,5,1,"div",8,i.trackBySection,!0),s()()()),e&2&&(c(i.isMobile&&i.isOpen?0:-1),n(),u("collapsed",i.isCollapsed&&!i.isMobile)("mobile-open",i.isMobile&&i.isOpen)("desktop-hovered",!i.isMobile&&i.isCollapsed&&i.isHovered),n(4),X("src",i.logoPath,W),n(),c(i.shouldShowText()?6:-1),n(),c(i.isMobile&&i.isOpen?7:-1),n(2),D(i.navigationSections))},dependencies:[f],encapsulation:2,changeDetection:0})};var B=class o{isSidebarCollapsed=!1;isSidebarHovered=!1;isMobile=!1;shouldAdjustForExpandedSidebar(){return this.isMobile?!1:!this.isSidebarCollapsed||this.isSidebarHovered}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-main-content"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed",isSidebarHovered:"isSidebarHovered",isMobile:"isMobile"},decls:3,vars:4,consts:[[1,"main-content"],[1,"content-wrapper"]],template:function(e,i){e&1&&(A(0,"main",0)(1,"div",1),L(2,"router-outlet"),y()()),e&2&&u("sidebar-collapsed",i.isSidebarCollapsed&&!i.isSidebarHovered&&!i.isMobile)("desktop-sidebar-hovered",!i.isMobile&&i.isSidebarCollapsed&&i.isSidebarHovered)},dependencies:[f,ie],styles:[".main-content[_ngcontent-%COMP%]{margin-top:60px;margin-left:250px;transition:margin-left .3s ease;flex:1}.main-content.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:70px}.main-content.desktop-sidebar-hovered[_ngcontent-%COMP%]{margin-left:250px}.content-wrapper[_ngcontent-%COMP%]{padding:30px;min-height:calc(100vh - 140px)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-left:0!important;margin-top:60px}}"]})};var U=class o{isSidebarCollapsed=!1;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-footer"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:4,vars:2,consts:[[1,"footer"],[1,"footer-content"]],template:function(e,i){e&1&&(r(0,"footer",0)(1,"div",1)(2,"p"),m(3,"\xA9 2025 Malec\xF3n M\xE1gico Veracruz. Todos los derechos reservados."),s()()()),e&2&&u("sidebar-collapsed",i.isSidebarCollapsed)},dependencies:[f],encapsulation:2})};var oe=class o{constructor(t,e,i,a){this.authService=t;this.router=e;this.navigationService=i;this.cdr=a}currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;isSidebarHovered=!1;currentRoute="";routerSubscription=new G;userSubscription=new G;onResize(){this.checkScreenSize()}ngOnInit(){this.checkScreenSize(),this.userSubscription=this.authService.currentUser$.subscribe(t=>{this.currentUser=t,this.cdr.markForCheck()}),this.routerSubscription=this.navigationService.currentRoute$.subscribe(t=>{this.currentRoute=t,this.cdr.markForCheck()})}isActiveRoute(t){return this.currentRoute===t}ngOnDestroy(){this.routerSubscription.unsubscribe(),this.userSubscription.unsubscribe()}checkScreenSize(){this.isMobile=window.innerWidth<=768,this.isMobile?this.isSidebarOpen=!1:this.isSidebarOpen=!0}toggleSidebar(){this.isMobile?this.isSidebarOpen=!this.isSidebarOpen:this.isSidebarCollapsed=!this.isSidebarCollapsed}closeSidebar(){this.isMobile&&(this.isSidebarOpen=!1)}logout(){this.authService.logout()}navigateTo(t){this.navigationService.navigateTo(t),this.isMobile?(this.isSidebarOpen=!1,this.cdr.markForCheck()):this.isSidebarCollapsed&&this.isSidebarHovered&&(this.isSidebarHovered=!1,this.cdr.markForCheck())}onSidebarMouseEnter(){!this.isMobile&&this.isSidebarCollapsed&&(this.isSidebarHovered=!0,this.cdr.markForCheck())}onSidebarMouseLeave(){!this.isMobile&&this.isSidebarCollapsed&&(this.isSidebarHovered=!1,this.cdr.markForCheck())}shouldShowExpandedSidebar(){return this.isMobile?this.isSidebarOpen:!this.isSidebarCollapsed||this.isSidebarHovered}static \u0275fac=function(e){return new(e||o)(N(te),N(P),N(I),N(q))};static \u0275cmp=p({type:o,selectors:[["app-layout"]],hostBindings:function(e,i){e&1&&R("resize",function(){return i.onResize()},J)},decls:5,vars:15,consts:[[1,"layout-container"],[3,"toggleSidebar","logout","currentUser","isSidebarCollapsed","isMobile","isSidebarOpen","isSidebarHovered"],[3,"navigate","closeSidebar","mouseEnter","mouseLeave","currentRoute","isCollapsed","isMobile","isOpen","isHovered","shouldShowExpanded"],[3,"isSidebarCollapsed","isSidebarHovered","isMobile"],[3,"isSidebarCollapsed"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"app-navbar",1),R("toggleSidebar",function(){return i.toggleSidebar()})("logout",function(){return i.logout()}),y(),A(2,"app-sidebar",2),R("navigate",function(g){return i.navigateTo(g)})("closeSidebar",function(){return i.closeSidebar()})("mouseEnter",function(){return i.onSidebarMouseEnter()})("mouseLeave",function(){return i.onSidebarMouseLeave()}),y(),L(3,"app-main-content",3)(4,"app-footer",4),y()),e&2&&(n(),T("currentUser",i.currentUser)("isSidebarCollapsed",i.isSidebarCollapsed)("isMobile",i.isMobile)("isSidebarOpen",i.isSidebarOpen)("isSidebarHovered",i.isSidebarHovered),n(),T("currentRoute",i.currentRoute)("isCollapsed",i.isSidebarCollapsed)("isMobile",i.isMobile)("isOpen",i.isSidebarOpen)("isHovered",i.isSidebarHovered)("shouldShowExpanded",i.shouldShowExpandedSidebar()),n(),T("isSidebarCollapsed",i.isSidebarCollapsed)("isSidebarHovered",i.isSidebarHovered)("isMobile",i.isMobile),n(),T("isSidebarCollapsed",i.isSidebarCollapsed))},dependencies:[f,F,j,B,U],encapsulation:2,changeDetection:0})};export{oe as LayoutComponent};
