import{d as P,e as V,g as z}from"./chunk-DGOCELBQ.js";import{$a as I,Ea as C,La as c,Ma as u,Na as E,Oa as M,Pa as v,Qa as y,Ra as a,Sa as o,Ta as d,Ua as h,Va as O,W as _,Wa as b,X as g,Xa as S,Za as f,_a as p,oa as F,pa as s,ta as U,vb as m,ya as l}from"./chunk-B3HIXPXG.js";function H(n,t){if(n&1){let i=h();a(0,"div",6)(1,"div",7)(2,"span",8),p(3),o(),a(4,"span",9),p(5),o()(),a(6,"div",10),d(7,"i",11),o(),a(8,"button",12),b("click",function(){_(i);let r=S();return g(r.onLogout())}),d(9,"i",13),o()()}if(n&2){let i=S();s(3),I(i.currentUser.name),s(2),I(i.currentUser.role)}}var T=class n{currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;toggleSidebar=new C;logout=new C;onToggleSidebar(){this.toggleSidebar.emit()}onLogout(){this.logout.emit()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-navbar"]],inputs:{currentUser:"currentUser",isSidebarCollapsed:"isSidebarCollapsed",isMobile:"isMobile",isSidebarOpen:"isSidebarOpen"},outputs:{toggleSidebar:"toggleSidebar",logout:"logout"},decls:7,vars:5,consts:[[1,"navbar"],[1,"navbar-content"],[1,"navbar-left"],[1,"sidebar-toggle",3,"click"],[1,"fas","fa-bars"],[1,"navbar-right"],[1,"user-menu"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"user-avatar"],[1,"fas","fa-user"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(i,e){i&1&&(a(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return e.onToggleSidebar()}),d(4,"i",4),o()(),a(5,"div",5),c(6,H,10,2,"div",6),o()()()),i&2&&(f("sidebar-collapsed",e.isSidebarCollapsed)("mobile-sidebar-open",e.isMobile&&e.isSidebarOpen),s(6),u(e.currentUser?6:-1))},dependencies:[m],encapsulation:2})};function B(n,t){if(n&1){let i=h();a(0,"div",14),b("click",function(){_(i);let r=S();return g(r.onCloseSidebar())}),o()}}function j(n,t){n&1&&(a(0,"span"),p(1,"Malec\xF3n M\xE1gico"),o())}function W(n,t){if(n&1){let i=h();a(0,"button",15),b("click",function(){_(i);let r=S();return g(r.onCloseSidebar())}),d(1,"i",16),o()}}function $(n,t){n&1&&(a(0,"span"),p(1,"Dashboard"),o())}function q(n,t){n&1&&(a(0,"span"),p(1,"Usuarios"),o())}function x(n,t){n&1&&(a(0,"span"),p(1,"Configuraci\xF3n"),o())}var N=class n{isCollapsed=!1;isMobile=!1;isOpen=!0;navigate=new C;closeSidebar=new C;onNavigate(t){this.navigate.emit(t)}onCloseSidebar(){this.closeSidebar.emit()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-sidebar"]],inputs:{isCollapsed:"isCollapsed",isMobile:"isMobile",isOpen:"isOpen"},outputs:{navigate:"navigate",closeSidebar:"closeSidebar"},decls:22,vars:10,consts:[[1,"sidebar-overlay","show"],[1,"sidebar"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"logo"],[1,"fas","fa-water","logo-icon"],[1,"close-btn"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-tachometer-alt"],[1,"fas","fa-users"],[1,"fas","fa-cog"],[1,"sidebar-overlay","show",3,"click"],[1,"close-btn",3,"click"],[1,"fas","fa-times"]],template:function(i,e){i&1&&(c(0,B,1,0,"div",0),a(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"i",5),c(6,j,2,0,"span"),o(),c(7,W,2,0,"button",6),o(),a(8,"nav",7)(9,"ul",8)(10,"li",9)(11,"a",10),b("click",function(){return e.onNavigate("/dashboard")}),d(12,"i",11),c(13,$,2,0,"span"),o()(),a(14,"li",9)(15,"a",10),b("click",function(){return e.onNavigate("/users")}),d(16,"i",12),c(17,q,2,0,"span"),o()(),a(18,"li",9)(19,"a",10),b("click",function(){return e.onNavigate("/settings")}),d(20,"i",13),c(21,x,2,0,"span"),o()()()()()()),i&2&&(u(e.isMobile&&e.isOpen?0:-1),s(),f("collapsed",e.isCollapsed&&!e.isMobile)("mobile-open",e.isMobile&&e.isOpen),s(5),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?6:-1),s(),u(e.isMobile&&e.isOpen?7:-1),s(6),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?13:-1),s(4),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?17:-1),s(4),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?21:-1))},dependencies:[m],encapsulation:2})};var D=class n{isSidebarCollapsed=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-main-content"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:3,vars:2,consts:[[1,"main-content"],[1,"content-wrapper"]],template:function(i,e){i&1&&(M(0,"main",0)(1,"div",1),y(2,"router-outlet"),v()()),i&2&&f("sidebar-collapsed",e.isSidebarCollapsed)},dependencies:[m,P],styles:[".main-content[_ngcontent-%COMP%]{margin-top:60px;margin-left:250px;transition:margin-left .3s ease;flex:1}.main-content.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:70px}.content-wrapper[_ngcontent-%COMP%]{padding:30px;min-height:calc(100vh - 140px)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-left:0!important;margin-top:60px}}"]})};var L=class n{isSidebarCollapsed=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-footer"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:4,vars:2,consts:[[1,"footer"],[1,"footer-content"]],template:function(i,e){i&1&&(a(0,"footer",0)(1,"div",1)(2,"p"),p(3,"\xA9 2025 Malec\xF3n M\xE1gico Veracruz. Todos los derechos reservados."),o()()()),i&2&&f("sidebar-collapsed",e.isSidebarCollapsed)},dependencies:[m],encapsulation:2})};var R=class n{constructor(t,i){this.authService=t;this.router=i}currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;onResize(){this.checkScreenSize()}ngOnInit(){this.checkScreenSize(),this.authService.currentUser$.subscribe(t=>{this.currentUser=t})}ngOnDestroy(){}checkScreenSize(){this.isMobile=window.innerWidth<=768,this.isMobile?this.isSidebarOpen=!1:this.isSidebarOpen=!0}toggleSidebar(){this.isMobile?this.isSidebarOpen=!this.isSidebarOpen:this.isSidebarCollapsed=!this.isSidebarCollapsed}closeSidebar(){this.isMobile&&(this.isSidebarOpen=!1)}logout(){this.authService.logout()}navigateTo(t){this.router.navigate([t]),this.isMobile&&(this.isSidebarOpen=!1)}static \u0275fac=function(i){return new(i||n)(U(z),U(V))};static \u0275cmp=l({type:n,selectors:[["app-layout"]],hostBindings:function(i,e){i&1&&O("resize",function(){return e.onResize()},F)},decls:5,vars:9,consts:[[1,"layout-container"],[3,"toggleSidebar","logout","currentUser","isSidebarCollapsed","isMobile","isSidebarOpen"],[3,"navigate","closeSidebar","isCollapsed","isMobile","isOpen"],[3,"isSidebarCollapsed"]],template:function(i,e){i&1&&(M(0,"div",0)(1,"app-navbar",1),O("toggleSidebar",function(){return e.toggleSidebar()})("logout",function(){return e.logout()}),v(),M(2,"app-sidebar",2),O("navigate",function(A){return e.navigateTo(A)})("closeSidebar",function(){return e.closeSidebar()}),v(),y(3,"app-main-content",3)(4,"app-footer",3),v()),i&2&&(s(),E("currentUser",e.currentUser)("isSidebarCollapsed",e.isSidebarCollapsed)("isMobile",e.isMobile)("isSidebarOpen",e.isSidebarOpen),s(),E("isCollapsed",e.isSidebarCollapsed)("isMobile",e.isMobile)("isOpen",e.isSidebarOpen),s(),E("isSidebarCollapsed",e.isSidebarCollapsed),s(),E("isSidebarCollapsed",e.isSidebarCollapsed))},dependencies:[m,T,N,D,L],encapsulation:2})};export{R as LayoutComponent};
