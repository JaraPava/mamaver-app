import{d as P,e as U,g as j}from"./chunk-DGOCELBQ.js";import{$a as A,Ea as C,La as c,Ma as u,Na as M,Oa as E,Pa as g,Qa as h,Ra as a,Sa as t,Ta as d,Ua as y,Va as I,W as S,Wa as b,X as _,Xa as v,Za as f,_a as m,oa as z,pa as s,ta as L,vb as p,ya as l}from"./chunk-B3HIXPXG.js";function V(n,o){if(n&1){let i=y();a(0,"div",6)(1,"div",7)(2,"span",8),m(3),t(),a(4,"span",9),m(5),t()(),a(6,"div",10),d(7,"i",11),t(),a(8,"button",12),b("click",function(){S(i);let r=v();return _(r.onLogout())}),d(9,"i",13),t()()}if(n&2){let i=v();s(3),A(i.currentUser.name),s(2),A(i.currentUser.role)}}var O=class n{currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;toggleSidebar=new C;logout=new C;onToggleSidebar(){this.toggleSidebar.emit()}onLogout(){this.logout.emit()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-navbar"]],inputs:{currentUser:"currentUser",isSidebarCollapsed:"isSidebarCollapsed",isMobile:"isMobile",isSidebarOpen:"isSidebarOpen"},outputs:{toggleSidebar:"toggleSidebar",logout:"logout"},decls:7,vars:5,consts:[[1,"navbar"],[1,"navbar-content"],[1,"navbar-left"],[1,"sidebar-toggle",3,"click"],[1,"fas","fa-bars"],[1,"navbar-right"],[1,"user-menu"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"user-avatar"],[1,"fas","fa-user"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(i,e){i&1&&(a(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return e.onToggleSidebar()}),d(4,"i",4),t()(),a(5,"div",5),c(6,V,10,2,"div",6),t()()()),i&2&&(f("sidebar-collapsed",e.isSidebarCollapsed)("mobile-sidebar-open",e.isMobile&&e.isSidebarOpen),s(6),u(e.currentUser?6:-1))},dependencies:[p],encapsulation:2})};function G(n,o){if(n&1){let i=y();a(0,"div",14),b("click",function(){S(i);let r=v();return _(r.onCloseSidebar())}),t()}}function H(n,o){n&1&&(a(0,"span"),m(1,"Malec\xF3n M\xE1gico"),t())}function B(n,o){if(n&1){let i=y();a(0,"button",15),b("click",function(){S(i);let r=v();return _(r.onCloseSidebar())}),d(1,"i",16),t()}}function R(n,o){n&1&&(a(0,"span"),m(1,"Dashboard"),t())}function x(n,o){n&1&&(a(0,"span"),m(1,"Usuarios"),t())}function W(n,o){n&1&&(a(0,"span"),m(1,"Configuraci\xF3n"),t())}var N=class n{isCollapsed=!1;isMobile=!1;isOpen=!0;navigate=new C;closeSidebar=new C;onNavigate(o){this.navigate.emit(o)}onCloseSidebar(){this.closeSidebar.emit()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-sidebar"]],inputs:{isCollapsed:"isCollapsed",isMobile:"isMobile",isOpen:"isOpen"},outputs:{navigate:"navigate",closeSidebar:"closeSidebar"},decls:22,vars:10,consts:[[1,"sidebar-overlay","show"],[1,"sidebar"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"logo"],["src","./logo.png","alt","Malec\xF3n M\xE1gico Logo","loading","lazy","onerror","this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQwKSIvPgo8cGF0aCBkPSJNMjAgMTBDMTYuNjg2MyAxMCAxNCAxMi42ODYzIDE0IDE2QzE0IDE5LjMxMzcgMTYuNjg2MyAyMiAyMCAyMkMyMy4zMTM3IDIyIDI2IDE5LjMxMzcgMjYgMTZDMjYgMTIuNjg2MyAyMy4zMTM3IDEwIDIwIDEwWiIgZmlsbD0id2hpdGUiLz4KPHN2Zz4KCg=='; console.log('Logo not found, using fallback');",1,"logo-icon"],[1,"close-btn"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-tachometer-alt"],[1,"fas","fa-users"],[1,"fas","fa-cog"],[1,"sidebar-overlay","show",3,"click"],[1,"close-btn",3,"click"],[1,"fas","fa-times"]],template:function(i,e){i&1&&(c(0,G,1,0,"div",0),a(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),c(6,H,2,0,"span"),t(),c(7,B,2,0,"button",6),t(),a(8,"nav",7)(9,"ul",8)(10,"li",9)(11,"a",10),b("click",function(){return e.onNavigate("/dashboard")}),d(12,"i",11),c(13,R,2,0,"span"),t()(),a(14,"li",9)(15,"a",10),b("click",function(){return e.onNavigate("/users")}),d(16,"i",12),c(17,x,2,0,"span"),t()(),a(18,"li",9)(19,"a",10),b("click",function(){return e.onNavigate("/settings")}),d(20,"i",13),c(21,W,2,0,"span"),t()()()()()()),i&2&&(u(e.isMobile&&e.isOpen?0:-1),s(),f("collapsed",e.isCollapsed&&!e.isMobile)("mobile-open",e.isMobile&&e.isOpen),s(5),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?6:-1),s(),u(e.isMobile&&e.isOpen?7:-1),s(6),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?13:-1),s(4),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?17:-1),s(4),u(!e.isCollapsed&&!e.isMobile||e.isMobile&&e.isOpen?21:-1))},dependencies:[p],encapsulation:2})};var w=class n{isSidebarCollapsed=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-main-content"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:3,vars:2,consts:[[1,"main-content"],[1,"content-wrapper"]],template:function(i,e){i&1&&(E(0,"main",0)(1,"div",1),h(2,"router-outlet"),g()()),i&2&&f("sidebar-collapsed",e.isSidebarCollapsed)},dependencies:[p,P],styles:[".main-content[_ngcontent-%COMP%]{margin-top:60px;margin-left:250px;transition:margin-left .3s ease;flex:1}.main-content.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:70px}.content-wrapper[_ngcontent-%COMP%]{padding:30px;min-height:calc(100vh - 140px)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-left:0!important;margin-top:60px}}"]})};var k=class n{isSidebarCollapsed=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=l({type:n,selectors:[["app-footer"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:4,vars:2,consts:[[1,"footer"],[1,"footer-content"]],template:function(i,e){i&1&&(a(0,"footer",0)(1,"div",1)(2,"p"),m(3,"\xA9 2025 Malec\xF3n M\xE1gico Veracruz. Todos los derechos reservados."),t()()()),i&2&&f("sidebar-collapsed",e.isSidebarCollapsed)},dependencies:[p],encapsulation:2})};var F=class n{constructor(o,i){this.authService=o;this.router=i}currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;onResize(){this.checkScreenSize()}ngOnInit(){this.checkScreenSize(),this.authService.currentUser$.subscribe(o=>{this.currentUser=o})}ngOnDestroy(){}checkScreenSize(){this.isMobile=window.innerWidth<=768,this.isMobile?this.isSidebarOpen=!1:this.isSidebarOpen=!0}toggleSidebar(){this.isMobile?this.isSidebarOpen=!this.isSidebarOpen:this.isSidebarCollapsed=!this.isSidebarCollapsed}closeSidebar(){this.isMobile&&(this.isSidebarOpen=!1)}logout(){this.authService.logout()}navigateTo(o){this.router.navigate([o]),this.isMobile&&(this.isSidebarOpen=!1)}static \u0275fac=function(i){return new(i||n)(L(j),L(U))};static \u0275cmp=l({type:n,selectors:[["app-layout"]],hostBindings:function(i,e){i&1&&I("resize",function(){return e.onResize()},z)},decls:5,vars:9,consts:[[1,"layout-container"],[3,"toggleSidebar","logout","currentUser","isSidebarCollapsed","isMobile","isSidebarOpen"],[3,"navigate","closeSidebar","isCollapsed","isMobile","isOpen"],[3,"isSidebarCollapsed"]],template:function(i,e){i&1&&(E(0,"div",0)(1,"app-navbar",1),I("toggleSidebar",function(){return e.toggleSidebar()})("logout",function(){return e.logout()}),g(),E(2,"app-sidebar",2),I("navigate",function(Z){return e.navigateTo(Z)})("closeSidebar",function(){return e.closeSidebar()}),g(),h(3,"app-main-content",3)(4,"app-footer",3),g()),i&2&&(s(),M("currentUser",e.currentUser)("isSidebarCollapsed",e.isSidebarCollapsed)("isMobile",e.isMobile)("isSidebarOpen",e.isSidebarOpen),s(),M("isCollapsed",e.isSidebarCollapsed)("isMobile",e.isMobile)("isOpen",e.isSidebarOpen),s(),M("isSidebarCollapsed",e.isSidebarCollapsed),s(),M("isSidebarCollapsed",e.isSidebarCollapsed))},dependencies:[p,O,N,w,k],encapsulation:2})};export{F as LayoutComponent};
