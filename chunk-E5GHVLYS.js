import{a as V,b as I,c as k,d as z,e as N,f as T,g as W,h as q,i as A}from"./chunk-GHVAMZBW.js";import{f as E,h as F}from"./chunk-4JDTIBEC.js";import{Ba as v,Gb as L,Pa as c,Qa as m,Ta as w,Ua as i,Va as n,Wa as g,X as p,Y as u,_a as P,ab as O,cb as S,gb as y,hb as C,jb as t,lb as b,mb as _,nb as M,ob as x,sa as a,wa as f}from"./chunk-7G64EMKX.js";function R(o,r){o&1&&(i(0,"div",10),t(1," El correo electr\xF3nico es requerido "),n())}function j(o,r){o&1&&(i(0,"div",10),t(1," La contrase\xF1a es requerida "),n())}function Y(o,r){if(o&1&&(i(0,"div",13),g(1,"i",18),t(2),n()),o&2){let s=S();a(2),b(" ",s.errorMessage," ")}}function B(o,r){o&1&&g(0,"span",15)}var D=class o{constructor(r,s){this.authService=r;this.router=s}credentials={email:"",password:""};isLoading=!1;errorMessage="";onSubmit(){if(!this.credentials.email||!this.credentials.password){this.errorMessage="Por favor, completa todos los campos";return}this.isLoading=!0,this.errorMessage="",this.authService.login(this.credentials).subscribe({next:r=>{this.isLoading=!1,r?this.router.navigate(["/dashboard"]):this.errorMessage="Credenciales incorrectas"},error:r=>{this.isLoading=!1,this.errorMessage="Error en el servidor. Intenta de nuevo.",console.error("Login error:",r)}})}static \u0275fac=function(s){return new(s||o)(f(F),f(E))};static \u0275cmp=v({type:o,selectors:[["app-login"]],decls:31,vars:12,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","","placeholder","Ingresa tu correo electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Ingresa tu contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-message"],["type","submit",1,"btn","btn-primary","btn-login",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"login-info"],[1,"text-muted"],[1,"fas","fa-exclamation-circle"]],template:function(s,e){if(s&1){let l=P();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),t(4,"Malec\xF3n M\xE1gico Veracruz"),n(),i(5,"p",5),t(6,"Inicia sesi\xF3n en tu cuenta"),n()(),i(7,"form",6,0),O("ngSubmit",function(){return p(l),u(e.onSubmit())}),i(9,"div",7)(10,"label",8),t(11,"Correo electr\xF3nico"),n(),i(12,"input",9),x("ngModelChange",function(d){return p(l),M(e.credentials.email,d)||(e.credentials.email=d),u(d)}),n(),c(13,R,2,0,"div",10),n(),i(14,"div",7)(15,"label",11),t(16,"Contrase\xF1a"),n(),i(17,"input",12),x("ngModelChange",function(d){return p(l),M(e.credentials.password,d)||(e.credentials.password=d),u(d)}),n(),c(18,j,2,0,"div",10),n(),c(19,Y,3,1,"div",13),i(20,"button",14),c(21,B,1,0,"span",15),t(22),n(),i(23,"div",16)(24,"small",17)(25,"strong"),t(26,"Credenciales de prueba:"),n(),g(27,"br"),t(28," Email: admin@malecon.com"),g(29,"br"),t(30," Contrase\xF1a: admin123 "),n()()()()()}if(s&2){let l=y(8);a(12),C("is-invalid",!e.credentials.email&&l.submitted),_("ngModel",e.credentials.email),a(),m(!e.credentials.email&&l.submitted?13:-1),a(4),C("is-invalid",!e.credentials.password&&l.submitted),_("ngModel",e.credentials.password),a(),m(!e.credentials.password&&l.submitted?18:-1),a(),m(e.errorMessage?19:-1),a(),w("disabled",e.isLoading),a(),m(e.isLoading?21:-1),a(),b(" ",e.isLoading?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," ")}},dependencies:[L,A,T,V,I,k,W,q,N,z],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:400px;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-title[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:700;margin-bottom:8px}.login-subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:14px;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#aaa}.login-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:4px;display:block}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;border-radius:6px;padding:12px;margin-bottom:20px;font-size:14px}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.btn-login[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:8px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #667eea4d}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.login-info[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f8f9fa;border-radius:8px;text-align:center}.login-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:1.4}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};export{D as LoginComponent};
