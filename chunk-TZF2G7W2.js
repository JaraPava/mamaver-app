import{a as de,b as ue,e as me,i as pe}from"./chunk-GHVAMZBW.js";import{d as G,e as le,f as N,h as ce}from"./chunk-4JDTIBEC.js";import{$a as J,B as V,Ba as E,Gb as M,Ha as T,N as q,Oa as te,Pa as f,Qa as v,R as X,Ra as I,S as j,Sa as A,Ta as x,Ua as r,Va as s,Wa as d,X as h,Xa as b,Y as S,Ya as p,Za as L,_a as C,ab as m,bb as y,cb as c,d as O,db as ie,eb as ne,fb as oe,hb as _,ib as w,j as Y,jb as l,kb as g,mb as ae,nb as re,ob as se,pa as P,q as H,qa as B,ra as ee,sa as a,vb as z,w as U,wa as k}from"./chunk-7G64EMKX.js";var ge=["mobileSearchInput"],fe=(n,t)=>t.id;function _e(n,t){if(n&1&&(r(0,"li",35),d(1,"i",36),s(),r(2,"li",37)(3,"span"),l(4),s()()),n&2){let e=c();a(4),g(e.currentPage)}}function he(n,t){if(n&1){let e=C();r(0,"button",38),m("click",function(){h(e);let o=c();return S(o.clearSearch())}),d(1,"i",39),s()}}function Se(n,t){if(n&1){let e=C();r(0,"button",42),m("click",function(){let o=h(e).$implicit,u=c(2);return S(u.navigateToResult(o))}),d(1,"i"),r(2,"div",43)(3,"span",44),l(4),s(),r(5,"span",45),l(6),s()()()}if(n&2){let e=t.$implicit;a(),w(e.icon),a(3),g(e.title),a(2),g(e.description)}}function Ce(n,t){if(n&1&&(r(0,"div",15)(1,"div",40),I(2,Se,7,4,"button",41,fe),s()()),n&2){let e=c();a(2),A(e.searchResults)}}function Ee(n,t){if(n&1&&(r(0,"span",25),l(1),s()),n&2){let e=c();a(),g(e.unreadNotifications)}}function Me(n,t){if(n&1){let e=C();r(0,"button",51),m("click",function(){h(e);let o=c(2);return S(o.markAllAsRead())}),l(1," Marcar como le\xEDdas "),s()}}function Te(n,t){if(n&1&&(r(0,"div",52)(1,"div",53),d(2,"i"),s(),r(3,"div",54)(4,"p",55),l(5),s(),r(6,"span",56),l(7),s()()()),n&2){let e=t.$implicit;_("unread",!e.read),a(2),w(e.icon),a(3),g(e.text),a(2),g(e.time)}}function ye(n,t){n&1&&(r(0,"div",50),d(1,"i",57),r(2,"p"),l(3,"No hay notificaciones"),s()())}function xe(n,t){if(n&1&&(r(0,"div",26)(1,"div",46)(2,"h6"),l(3,"Notificaciones"),s(),f(4,Me,2,0,"button",47),s(),r(5,"div",48),I(6,Te,8,6,"div",49,fe,!1,ye,4,0,"div",50),s()()),n&2){let e=c();a(4),v(e.unreadNotifications>0?4:-1),a(2),A(e.notifications)}}function we(n,t){if(n&1&&d(0,"img",64),n&2){let e=c(2);x("src",e.currentUser.avatar,P)("alt",e.currentUser.name)}}function Ne(n,t){n&1&&d(0,"i",65)}function ke(n,t){if(n&1&&d(0,"img",64),n&2){let e=c(3);x("src",e.currentUser.avatar,P)("alt",e.currentUser.name)}}function Ie(n,t){n&1&&d(0,"i",65)}function Ae(n,t){if(n&1){let e=C();r(0,"div",67)(1,"div",68)(2,"div",69),f(3,ke,1,2,"img",64)(4,Ie,1,0,"i",65),s(),r(5,"div",70)(6,"h6"),l(7),s(),r(8,"p"),l(9),s()()(),r(10,"div",71)(11,"button",72),m("click",function(){h(e);let o=c(2);return S(o.navigateToProfile())}),d(12,"i",31),r(13,"span"),l(14,"Mi Perfil"),s()(),r(15,"button",72),m("click",function(){h(e);let o=c(2);return S(o.navigateToSettings())}),d(16,"i",32),r(17,"span"),l(18,"Configuraci\xF3n"),s()(),r(19,"button",72),m("click",function(){h(e);let o=c(2);return S(o.viewActivity())}),d(20,"i",73),r(21,"span"),l(22,"Actividad Reciente"),s()(),d(23,"div",74),r(24,"button",75),m("click",function(){h(e);let o=c(2);return S(o.onLogout())}),d(25,"i",34),r(26,"span"),l(27,"Cerrar Sesi\xF3n"),s()()()()}if(n&2){let e=c(2);a(3),v(e.currentUser.avatar?3:4),a(4),g(e.currentUser.name),a(2),g(e.currentUser.email)}}function Pe(n,t){if(n&1){let e=C();r(0,"div",58)(1,"button",59),m("click",function(o){h(e);let u=c();return S(u.toggleUserMenu(o))}),r(2,"div",60)(3,"span",61),l(4),s(),r(5,"span",62),l(6),s()(),r(7,"div",63),f(8,we,1,2,"img",64)(9,Ne,1,0,"i",65),s(),d(10,"i",66),s(),f(11,Ae,28,3,"div",67),s()}if(n&2){let e=c();_("active",e.showUserMenu),a(4),g(e.currentUser.name),a(2),g(e.currentUser.role),a(2),v(e.currentUser.avatar?8:9),a(3),v(e.showUserMenu?11:-1)}}var $=class n{constructor(t){this.router=t}currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;isSidebarHovered=!1;currentPage="Dashboard";toggleSidebar=new T;logout=new T;searchQuery="";isSearchActive=!1;searchResults=[];isDarkMode=!1;showMobileSearch=!1;showMobileActions=!1;mobileSearchInput;showNotifications=!1;unreadNotifications=3;notifications=[{id:"1",text:"Nueva venta registrada en el sistema",time:"Hace 2 minutos",icon:"fas fa-shopping-cart text-success",read:!1},{id:"2",text:"Reporte mensual generado exitosamente",time:"Hace 1 hora",icon:"fas fa-chart-line text-primary",read:!1},{id:"3",text:"Usuario nuevo registrado: Mar\xEDa Garc\xEDa",time:"Hace 2 horas",icon:"fas fa-user-plus text-info",read:!1},{id:"4",text:"Actualizaci\xF3n del sistema completada",time:"Ayer",icon:"fas fa-download text-warning",read:!0}];showUserMenu=!1;searchData=[{id:"1",title:"Dashboard",description:"Panel principal del sistema",icon:"fas fa-tachometer-alt",route:"/dashboard"},{id:"2",title:"Usuarios",description:"Gesti\xF3n de usuarios del sistema",icon:"fas fa-users",route:"/users"},{id:"3",title:"Analytics",description:"An\xE1lisis y estad\xEDsticas",icon:"fas fa-chart-bar",route:"/analytical"},{id:"4",title:"E-commerce",description:"Gesti\xF3n de productos y ventas",icon:"fas fa-shopping-cart",route:"/ecommerce"},{id:"5",title:"Configuraci\xF3n",description:"Configuraci\xF3n del sistema",icon:"fas fa-cog",route:"/settings"},{id:"6",title:"Blog",description:"Gesti\xF3n de contenido del blog",icon:"fas fa-blog",route:"/blog"},{id:"7",title:"Tablas",description:"Visualizaci\xF3n de datos tabulares",icon:"fas fa-table",route:"/tables/basic"},{id:"8",title:"Contactos",description:"Gesti\xF3n de contactos",icon:"fas fa-address-book",route:"/contacts"}];ngOnInit(){this.isDarkMode=localStorage.getItem("theme")==="dark",this.applyTheme(),this.updateUnreadCount()}ngOnDestroy(){}onDocumentClick(t){let e=t.target;e.closest(".user-menu")||(this.showUserMenu=!1),e.closest(".notifications-wrapper")||(this.showNotifications=!1),e.closest(".search-container")||(this.isSearchActive=!1),!e.closest(".mobile-menu-toggle")&&!e.closest(".mobile-actions")&&(this.showMobileActions=!1)}onWindowResize(){window.innerWidth>768&&(this.showMobileSearch=!1,this.showMobileActions=!1)}onToggleSidebar(){this.toggleSidebar.emit()}onLogout(){this.showUserMenu=!1,this.logout.emit()}onSearchFocus(){this.isSearchActive=!0,this.searchQuery&&this.performSearch()}onSearchBlur(){setTimeout(()=>{this.isSearchActive=!1},200)}onSearchInput(t){let e=t.target;this.searchQuery=e.value,this.performSearch()}performSearch(){if(!this.searchQuery.trim()){this.searchResults=[];return}let t=this.searchQuery.toLowerCase();this.searchResults=this.searchData.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)).slice(0,6)}clearSearch(){this.searchQuery="",this.searchResults=[]}navigateToResult(t){this.router.navigate([t.route]),this.clearSearch(),this.isSearchActive=!1}toggleTheme(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("theme",this.isDarkMode?"dark":"light"),this.applyTheme()}applyTheme(){this.isDarkMode?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}toggleNotifications(t){t&&t.stopPropagation(),this.showNotifications=!this.showNotifications,this.showNotifications&&setTimeout(()=>{this.adjustNotificationDropdownPosition()},0)}adjustNotificationDropdownPosition(){let t=document.querySelector(".notifications-dropdown");if(!t)return;let e=t.getBoundingClientRect(),i=window.innerWidth;window.innerWidth>768&&e.right>i-20?t.setAttribute("data-position","left"):t.removeAttribute("data-position")}markAllAsRead(){this.notifications.forEach(t=>t.read=!0),this.updateUnreadCount()}updateUnreadCount(){this.unreadNotifications=this.notifications.filter(t=>!t.read).length}toggleUserMenu(t){t&&t.stopPropagation(),this.showUserMenu=!this.showUserMenu}navigateToProfile(){this.router.navigate(["/user-profile"]),this.showUserMenu=!1}navigateToSettings(){this.router.navigate(["/settings"]),this.showUserMenu=!1}viewActivity(){console.log("View activity clicked"),this.showUserMenu=!1}toggleMobileSearch(){this.showMobileSearch=!this.showMobileSearch,this.showMobileActions=!1,this.showMobileSearch&&setTimeout(()=>{this.mobileSearchInput&&this.mobileSearchInput.nativeElement.focus()},300)}closeMobileSearch(){this.showMobileSearch=!1,this.clearSearch()}toggleMobileActions(){this.showMobileActions=!this.showMobileActions,this.showMobileSearch=!1}static \u0275fac=function(e){return new(e||n)(k(N))};static \u0275cmp=E({type:n,selectors:[["app-navbar"]],viewQuery:function(e,i){if(e&1&&ie(ge,5),e&2){let o;ne(o=oe())&&(i.mobileSearchInput=o.first)}},hostBindings:function(e,i){e&1&&m("click",function(u){return i.onDocumentClick(u)},ee)("resize",function(){return i.onWindowResize()},B)},inputs:{currentUser:"currentUser",isSidebarCollapsed:"isSidebarCollapsed",isMobile:"isMobile",isSidebarOpen:"isSidebarOpen",isSidebarHovered:"isSidebarHovered",currentPage:"currentPage"},outputs:{toggleSidebar:"toggleSidebar",logout:"logout"},decls:58,vars:24,consts:[[1,"navbar"],[1,"navbar-content"],[1,"navbar-left"],[1,"sidebar-toggle",3,"click"],[1,"fas","fa-bars"],["aria-label","breadcrumb",1,"breadcrumbs"],[1,"breadcrumb-list"],[1,"breadcrumb-item"],[1,"fas","fa-home"],[1,"navbar-center"],[1,"search-container"],[1,"search-input-wrapper"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Buscar en Malec\xF3n M\xE1gico...",1,"search-input",3,"ngModelChange","focus","blur","input","ngModel"],[1,"search-clear"],[1,"search-dropdown"],[1,"navbar-right"],["title","Buscar",1,"mobile-search-toggle",3,"click"],[1,"fas","fa-search"],["title","Men\xFA",1,"mobile-menu-toggle",3,"click"],[1,"hamburger"],["title","Cambiar tema",1,"theme-toggle",3,"click"],[1,"notifications-wrapper"],["title","Notificaciones",1,"notifications-btn",3,"click"],[1,"fas","fa-bell"],[1,"notification-badge"],[1,"notifications-dropdown"],[1,"user-menu",3,"active"],[1,"mobile-actions"],[1,"mobile-actions-grid"],[1,"mobile-action-item",3,"click"],[1,"fas","fa-user-circle"],[1,"fas","fa-cog"],[1,"mobile-action-item","logout",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"breadcrumb-separator"],[1,"fas","fa-chevron-right"],[1,"breadcrumb-item","active"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],[1,"search-results"],[1,"search-result-item"],[1,"search-result-item",3,"click"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"notifications-header"],[1,"mark-all-read"],[1,"notifications-list"],[1,"notification-item",3,"unread"],[1,"no-notifications"],[1,"mark-all-read",3,"click"],[1,"notification-item"],[1,"notification-icon"],[1,"notification-content"],[1,"notification-text"],[1,"notification-time"],[1,"fas","fa-bell-slash"],[1,"user-menu"],[1,"user-trigger",3,"click"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"user-avatar"],[1,"avatar-image",3,"src","alt"],[1,"fas","fa-user"],[1,"fas","fa-chevron-down","dropdown-arrow"],[1,"user-dropdown"],[1,"user-dropdown-header"],[1,"user-avatar-large"],[1,"user-details"],[1,"user-menu-items"],[1,"user-menu-item",3,"click"],[1,"fas","fa-clock"],[1,"menu-divider"],[1,"user-menu-item","logout",3,"click"]],template:function(e,i){e&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return i.onToggleSidebar()}),d(4,"i",4),s(),r(5,"nav",5)(6,"ol",6)(7,"li",7),d(8,"i",8),r(9,"span"),l(10,"Dashboard"),s()(),f(11,_e,5,1),s()()(),r(12,"div",9)(13,"div",10)(14,"div",11),d(15,"i",12),r(16,"input",13),se("ngModelChange",function(u){return re(i.searchQuery,u)||(i.searchQuery=u),u}),m("focus",function(){return i.onSearchFocus()})("blur",function(){return i.onSearchBlur()})("input",function(u){return i.onSearchInput(u)}),s(),f(17,he,2,0,"button",14),s(),f(18,Ce,4,0,"div",15),s()(),r(19,"div",16)(20,"button",17),m("click",function(){return i.toggleMobileSearch()}),d(21,"i",18),s(),r(22,"button",19),m("click",function(){return i.toggleMobileActions()}),r(23,"div",20),d(24,"span")(25,"span")(26,"span")(27,"span"),s()(),r(28,"button",21),m("click",function(){return i.toggleTheme()}),d(29,"i"),s(),r(30,"div",22)(31,"button",23),m("click",function(u){return i.toggleNotifications(u)}),d(32,"i",24),f(33,Ee,2,1,"span",25),s(),f(34,xe,9,2,"div",26),s(),f(35,Pe,12,6,"div",27),s()()(),r(36,"div",28)(37,"div",29)(38,"button",30),m("click",function(){return i.toggleTheme()}),d(39,"i"),r(40,"span"),l(41),s()(),r(42,"button",30),m("click",function(u){return i.toggleNotifications(u)}),d(43,"i",24),r(44,"span"),l(45,"Notificaciones"),s()(),r(46,"button",30),m("click",function(){return i.navigateToProfile()}),d(47,"i",31),r(48,"span"),l(49,"Mi Perfil"),s()(),r(50,"button",30),m("click",function(){return i.navigateToSettings()}),d(51,"i",32),r(52,"span"),l(53,"Configuraci\xF3n"),s()(),r(54,"button",33),m("click",function(){return i.onLogout()}),d(55,"i",34),r(56,"span"),l(57,"Cerrar Sesi\xF3n"),s()()()()),e&2&&(_("sidebar-collapsed",i.isSidebarCollapsed&&!i.isSidebarHovered)("mobile-sidebar-open",i.isMobile&&i.isSidebarOpen)("desktop-sidebar-hovered",!i.isMobile&&i.isSidebarCollapsed&&i.isSidebarHovered),a(11),v(i.currentPage&&i.currentPage!=="Dashboard"?11:-1),a(2),_("active",i.isSearchActive),a(3),ae("ngModel",i.searchQuery),a(),v(i.searchQuery?17:-1),a(),v(i.isSearchActive&&i.searchResults.length>0?18:-1),a(4),_("active",i.showMobileActions),a(7),w(i.isDarkMode?"fas fa-sun":"fas fa-moon"),a(4),v(i.unreadNotifications>0?33:-1),a(),v(i.showNotifications?34:-1),a(),v(i.currentUser?35:-1),a(),_("active",i.showMobileActions),a(3),w(i.isDarkMode?"fas fa-sun":"fas fa-moon"),a(2),g(i.isDarkMode?"Modo Claro":"Modo Oscuro"))},dependencies:[M,pe,de,ue,me],encapsulation:2})};var R={MOBILE_BREAKPOINT:768,SIDEBAR:{COLLAPSED_WIDTH:"80px",EXPANDED_WIDTH:"280px",ANIMATION_DURATION:"0.3s"},NAVIGATION:{SECTIONS:[{id:"main",title:"Home",items:[{route:"/analytical",icon:"fas fa-globe",label:"Analytical",id:"analytical",isActive:!0},{route:"/ecommerce",icon:"fas fa-shopping-cart",label:"eCommerce",id:"ecommerce"},{route:"/frontend-pages",icon:"fas fa-file-alt",label:"Frontend pages",id:"frontend-pages",hasSubmenu:!0,submenu:[{route:"/frontend-pages/home-page",label:"Home Page",id:"home-page"},{route:"/frontend-pages/blog",label:"Blog",id:"blog"},{route:"/frontend-pages/blog-details",label:"Blog Details",id:"blog-details"},{route:"/frontend-pages/portfolio",label:"Portfolio",id:"portfolio"},{route:"/frontend-pages/contact",label:"Contact",id:"contact"},{route:"/frontend-pages/landing",label:"Landing Page",id:"landing"},{route:"/frontend-pages/pricing",label:"Pricing",id:"pricing"},{route:"/frontend-pages/about",label:"About Us",id:"about"}]}]},{id:"apps",title:"APPS",items:[{route:"/chat",icon:"fas fa-comment-dots",label:"Chat",id:"chat"},{route:"/calendar",icon:"fas fa-calendar-alt",label:"Calendar",id:"calendar"},{route:"/email",icon:"fas fa-envelope",label:"Email",id:"email"},{route:"/kanban",icon:"fas fa-columns",label:"Kanban",id:"kanban"},{route:"/contacts",icon:"fas fa-address-book",label:"Contacts",id:"contacts"},{route:"/employee",icon:"fas fa-users",label:"Employee",id:"employee"},{route:"/notes",icon:"fas fa-sticky-note",label:"Notes",id:"notes"},{route:"/tickets",icon:"fas fa-ticket-alt",label:"Tickets",id:"tickets"},{route:"/invoice",icon:"fas fa-file-invoice",label:"Invoice",id:"invoice"},{route:"/user-profile",icon:"fas fa-user",label:"User Profile",id:"user-profile",badge:{text:"New",color:"orange"}}]},{id:"tables",title:"TABLES",items:[{route:"/tables/basic",icon:"fas fa-table",label:"Basic Tables",id:"basic-tables"},{route:"/tables/data",icon:"fas fa-database",label:"Data Tables",id:"data-tables"},{route:"/tables/responsive",icon:"fas fa-mobile-alt",label:"Responsive Tables",id:"responsive-tables"},{route:"/tables/advanced",icon:"fas fa-chart-bar",label:"Advanced Tables",id:"advanced-tables"}]}],ITEMS:[{route:"/analytical",icon:"fas fa-globe",label:"Analytical",id:"analytical"},{route:"/ecommerce",icon:"fas fa-shopping-cart",label:"eCommerce",id:"ecommerce"},{route:"/frontend-pages",icon:"fas fa-file-alt",label:"Frontend pages",id:"frontend-pages"},{route:"/chat",icon:"fas fa-comment-dots",label:"Chat",id:"chat"},{route:"/calendar",icon:"fas fa-calendar-alt",label:"Calendar",id:"calendar"},{route:"/email",icon:"fas fa-envelope",label:"Email",id:"email"},{route:"/kanban",icon:"fas fa-columns",label:"Kanban",id:"kanban"},{route:"/contacts",icon:"fas fa-address-book",label:"Contacts",id:"contacts"},{route:"/employee",icon:"fas fa-users",label:"Employee",id:"employee"},{route:"/notes",icon:"fas fa-sticky-note",label:"Notes",id:"notes"},{route:"/tickets",icon:"fas fa-ticket-alt",label:"Tickets",id:"tickets"},{route:"/invoice",icon:"fas fa-file-invoice",label:"Invoice",id:"invoice"},{route:"/user-profile",icon:"fas fa-user",label:"User Profile",id:"user-profile"},{route:"/tables/basic",icon:"fas fa-table",label:"Basic Tables",id:"basic-tables"},{route:"/tables/data",icon:"fas fa-database",label:"Data Tables",id:"data-tables"},{route:"/tables/responsive",icon:"fas fa-mobile-alt",label:"Responsive Tables",id:"responsive-tables"},{route:"/tables/advanced",icon:"fas fa-chart-bar",label:"Advanced Tables",id:"advanced-tables"}]},APP:{NAME:"Admixion",LOGO_PATH:"./logo.png",FALLBACK_LOGO:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQwKSIvPgo8cGF0aCBkPSJNMjAgMTBDMTYuNjg2MyAxMCAxNCAxMi42ODYzIDE0IDE2QzE0IDE5LjMxMzcgMTYuNjg2MyAyMiAyMCAyMkMyMy4zMTM3IDIyIDI2IDE5LjMxMzcgMjYgMTZDMjYgMTIuNjg2MyAyMy4zMTM3IDEwIDIwIDEwWiIgZmlsbD0id2hpdGUiLz4KPHN2Zz4KCg=="},PERFORMANCE:{CHANGE_DETECTION_STRATEGY:"OnPush",ENABLE_LAZY_LOADING:!0,DEBOUNCE_TIME:300,SASS_MODERN_FUNCTIONS:!0},STYLES:{COLOR_ADJUSTMENTS:{DARKEN_HOVER:5,DARKEN_ACTIVE:10,LIGHTEN_HOVER:5},ANIMATIONS:{DURATION_FAST:"0.2s",DURATION_NORMAL:"0.3s",TIMING_FUNCTION:"cubic-bezier(0.4, 0, 0.2, 1)"}}};var D=class n{constructor(t){this.router=t;this.initRouteTracking(),this.setInitialRoute(),setTimeout(()=>{let e=this.router.url.split("?")[0].split("#")[0];this.currentRouteSubject.next(e)})}currentRouteSubject=new Y("");expandedMenusSubject=new Y(new Set);currentRoute$=this.currentRouteSubject.asObservable();expandedMenus$=this.expandedMenusSubject.asObservable();navigationSections=R.NAVIGATION.SECTIONS;initRouteTracking(){let t=this.router.url.split("?")[0].split("#")[0];this.currentRouteSubject.next(t),this.router.events.pipe(U(e=>e instanceof G),H(e=>e.url.split("?")[0].split("#")[0]),V()).subscribe(e=>{this.currentRouteSubject.next(e),this.autoExpandParentMenu(e)})}setInitialRoute(){let e=this.router.url.split("?")[0].split("#")[0];e==="/"||e===""?this.navigateTo("/analytical"):(this.currentRouteSubject.next(e),this.autoExpandParentMenu(e))}autoExpandParentMenu(t){let e=this.findParentMenuItem(t);e&&this.expandMenu(e.id)}findParentMenuItem(t){for(let e of this.navigationSections)for(let i of e.items)if(i.hasSubmenu&&i.submenu?.some(o=>o.route===t))return i;return null}getCurrentRoute=()=>this.currentRouteSubject.value;navigateTo=t=>this.router.navigate([t]);isActiveRoute=t=>this.currentRoute$.pipe(H(e=>e===t),V());toggleSubmenu=t=>{let e=new Set(this.expandedMenusSubject.value);e.has(t)?e.delete(t):e.add(t),this.expandedMenusSubject.next(e)};expandMenu=t=>{let e=new Set(this.expandedMenusSubject.value);e.add(t),this.expandedMenusSubject.next(e)};isSubmenuExpanded=t=>this.expandedMenus$.pipe(H(e=>e.has(t)),V());getNavigationItemByRoute=t=>{for(let e of this.navigationSections){let i=e.items.find(o=>o.route===t);if(i)return i}};getAllNavigationItems=()=>this.navigationSections.flatMap(t=>t.items);static \u0275fac=function(e){return new(e||n)(X(N))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var De=(n,t)=>t.id;function Oe(n,t){if(n&1){let e=C();b(0,"div",13),y("click",function(){h(e);let o=c();return S(o.onCloseSidebar())}),p()}}function Le(n,t){if(n&1&&(b(0,"span"),l(1),p()),n&2){let e=c();a(),g(e.appConfig.name)}}function Fe(n,t){if(n&1){let e=C();b(0,"button",14),y("click",function(){h(e);let o=c();return S(o.onCloseSidebar())}),L(1,"i",15),p()}}function He(n,t){if(n&1&&(b(0,"div",16),l(1),p()),n&2){let e=c().$implicit;a(),g(e.title)}}function Ue(n,t){if(n&1&&(b(0,"span",24),l(1),p()),n&2){let e=c(2).$implicit;w("badge-"+e.badge.color),a(),g(e.badge.text)}}function Ve(n,t){if(n&1&&L(0,"i",25),n&2){let e=c(2).$implicit,i=c(2);_("expanded",i.isSubmenuExpanded(e.id))}}function je(n,t){if(n&1&&(b(0,"span",21),l(1),p(),f(2,Ue,2,3,"span",22),f(3,Ve,1,2,"i",23)),n&2){let e=c().$implicit;a(),g(e.label),a(),v(e.badge?2:-1),a(),v(e.hasSubmenu?3:-1)}}function Be(n,t){if(n&1){let e=C();b(0,"li",26)(1,"a",27),y("click",function(){let o=h(e).$implicit,u=c(4);return S(u.onNavigate(o.route))}),b(2,"span"),l(3),p()()()}if(n&2){let e=t.$implicit,i=c(4);a(),_("active",i.isActiveRoute(e.route)),a(2),g(e.label)}}function ze(n,t){if(n&1&&(b(0,"ul",20),I(1,Be,4,3,"li",26,De),p()),n&2){let e=c().$implicit;a(),A(e.submenu)}}function Ge(n,t){if(n&1){let e=C();b(0,"li",18)(1,"a",19),y("click",function(){let o=h(e).$implicit,u=c(2);return S(o.hasSubmenu?u.onToggleSubmenu(o.id):u.onNavigate(o.route))}),L(2,"i"),f(3,je,4,3),p(),f(4,ze,3,0,"ul",20),p()}if(n&2){let e=t.$implicit,i=c(2);a(),_("active",i.isActiveOrHasActiveSubmenu(e))("has-submenu",e.hasSubmenu),a(),w(e.icon),a(),v(i.shouldShowText()?3:-1),a(),v(e.hasSubmenu&&i.isSubmenuExpanded(e.id)&&i.shouldShowText()?4:-1)}}function $e(n,t){if(n&1&&(b(0,"div",8),f(1,He,2,1,"div",16),b(2,"ul",17),I(3,Ge,5,8,"li",18,te().trackByRoute,!0),p()()),n&2){let e=t.$implicit;a(),v(e.title?1:-1),a(2),A(e.items)}}function We(n,t){if(n&1){let e=C();b(0,"div",28)(1,"div",29),l(2),p(),b(3,"div",30),l(4),p()(),b(5,"button",31),y("click",function(){h(e);let o=c();return S(o.onLogout())}),L(6,"i",32),p()}if(n&2){let e=c();a(2),g(e.userInfo.name),a(2),g(e.userInfo.role)}}var Q=class n{currentRoute="";isCollapsed=!1;isMobile=!1;isOpen=!0;isHovered=!1;shouldShowExpanded=!0;navigate=new T;closeSidebar=new T;mouseEnter=new T;mouseLeave=new T;logout=new T;navigationService=j(D);cdr=j(z);router=j(N);navigationSections=this.navigationService.navigationSections;actualCurrentRoute="";routeSubscription=new O;appConfig={name:R.APP.NAME,logoPath:R.APP.LOGO_PATH,fallbackLogo:R.APP.FALLBACK_LOGO};userInfo={name:"Mathew",role:"Designer",avatarPath:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format",fallbackAvatar:"https://ui-avatars.com/api/?name=Mathew&background=6366f1&color=fff&size=150"};ngOnInit(){this.actualCurrentRoute=this.router.url.split("?")[0].split("#")[0],this.routeSubscription=this.navigationService.currentRoute$.subscribe(t=>{this.actualCurrentRoute=t,this.cdr.markForCheck()})}ngAfterViewInit(){setTimeout(()=>{this.actualCurrentRoute=this.router.url.split("?")[0].split("#")[0],this.cdr.detectChanges()})}ngOnDestroy(){this.routeSubscription.unsubscribe()}onNavigate=t=>this.navigate.emit(t);onCloseSidebar=()=>this.closeSidebar.emit();onMouseEnter=()=>this.mouseEnter.emit();onMouseLeave=()=>this.mouseLeave.emit();onLogout=()=>this.logout.emit();onImageError=t=>{t.target.src=this.appConfig.fallbackLogo};onUserAvatarError=t=>{t.target.src=this.userInfo.fallbackAvatar};onToggleSubmenu=t=>{this.navigationService.toggleSubmenu(t)};isSubmenuExpanded=t=>this.navigationService.expandedMenusSubject.value.has(t);isActiveRoute=t=>(this.router.url.split("?")[0].split("#")[0]||this.currentRoute||this.actualCurrentRoute)===t;isActiveOrHasActiveSubmenu=t=>this.isActiveRoute(t.route)||t.hasSubmenu&&t.submenu?.some(e=>this.isActiveRoute(e.route))||!1;shouldShowText=()=>this.isMobile?this.isOpen:this.shouldShowExpanded;trackByRoute=(t,e)=>e.id;trackBySection=(t,e)=>e.id;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-sidebar"]],inputs:{currentRoute:"currentRoute",isCollapsed:"isCollapsed",isMobile:"isMobile",isOpen:"isOpen",isHovered:"isHovered",shouldShowExpanded:"shouldShowExpanded"},outputs:{navigate:"navigate",closeSidebar:"closeSidebar",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",logout:"logout"},decls:16,vars:12,consts:[[1,"sidebar-overlay","show"],[1,"sidebar",3,"mouseenter","mouseleave"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"logo"],["alt","Logo","loading","lazy",1,"logo-icon",3,"error","src"],[1,"close-btn"],[1,"sidebar-nav"],[1,"nav-section"],[1,"sidebar-footer"],[1,"user-profile"],[1,"user-avatar"],["alt","User Avatar","loading","lazy",1,"avatar-image",3,"error","src"],[1,"sidebar-overlay","show",3,"click"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"section-title"],[1,"nav-list"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"submenu"],[1,"nav-text"],[1,"nav-badge",3,"class"],[1,"fas","fa-chevron-down","submenu-arrow",3,"expanded"],[1,"nav-badge"],[1,"fas","fa-chevron-down","submenu-arrow"],[1,"submenu-item"],[1,"submenu-link",3,"click"],[1,"user-info"],[1,"user-name"],[1,"user-role"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"fas","fa-power-off"]],template:function(e,i){e&1&&(f(0,Oe,1,0,"div",0),b(1,"aside",1),y("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),b(2,"div",2)(3,"div",3)(4,"div",4)(5,"img",5),y("error",function(u){return i.onImageError(u)}),p(),f(6,Le,2,1,"span"),p(),f(7,Fe,2,0,"button",6),p(),b(8,"nav",7),I(9,$e,5,1,"div",8,i.trackBySection,!0),p(),b(11,"div",9)(12,"div",10)(13,"div",11)(14,"img",12),y("error",function(u){return i.onUserAvatarError(u)}),p()(),f(15,We,7,2),p()()()()),e&2&&(v(i.isMobile&&i.isOpen?0:-1),a(),_("collapsed",i.isCollapsed&&!i.isMobile)("mobile-open",i.isMobile&&i.isOpen)("desktop-hovered",!i.isMobile&&i.isCollapsed&&i.isHovered),a(4),J("src",i.appConfig.logoPath,P),a(),v(i.shouldShowText()?6:-1),a(),v(i.isMobile&&i.isOpen?7:-1),a(2),A(i.navigationSections),a(5),J("src",i.userInfo.avatarPath,P),a(),v(i.shouldShowText()?15:-1))},dependencies:[M],encapsulation:2,changeDetection:0})};var Z=class n{isSidebarCollapsed=!1;isSidebarHovered=!1;isMobile=!1;shouldAdjustForExpandedSidebar(){return this.isMobile?!1:!this.isSidebarCollapsed||this.isSidebarHovered}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-main-content"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed",isSidebarHovered:"isSidebarHovered",isMobile:"isMobile"},decls:3,vars:4,consts:[[1,"main-content"],[1,"content-wrapper"]],template:function(e,i){e&1&&(r(0,"main",0)(1,"div",1),d(2,"router-outlet"),s()()),e&2&&_("sidebar-collapsed",i.isSidebarCollapsed&&!i.isSidebarHovered&&!i.isMobile)("desktop-sidebar-hovered",!i.isMobile&&i.isSidebarCollapsed&&i.isSidebarHovered)},dependencies:[M,le],styles:[".main-content[_ngcontent-%COMP%]{margin-top:60px;margin-left:250px;transition:margin-left .3s ease;flex:1}.main-content.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:70px}.main-content.desktop-sidebar-hovered[_ngcontent-%COMP%]{margin-left:250px}.content-wrapper[_ngcontent-%COMP%]{padding:30px;min-height:calc(100vh - 140px)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-left:0!important;margin-top:60px}}"]})};var K=class n{isSidebarCollapsed=!1;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-footer"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},decls:4,vars:2,consts:[[1,"footer"],[1,"footer-content"]],template:function(e,i){e&1&&(b(0,"footer",0)(1,"div",1)(2,"p"),l(3,"\xA9 2025 Malec\xF3n M\xE1gico Veracruz. Todos los derechos reservados."),p()()()),e&2&&_("sidebar-collapsed",i.isSidebarCollapsed)},dependencies:[M],encapsulation:2})};var ve=class n{constructor(t,e,i,o){this.authService=t;this.router=e;this.navigationService=i;this.cdr=o}currentUser=null;isSidebarCollapsed=!1;isMobile=!1;isSidebarOpen=!1;isSidebarHovered=!1;currentRoute="";currentPageTitle="Dashboard";routerSubscription=new O;userSubscription=new O;routeToPageTitle={"/dashboard":"Dashboard","/analytical":"Analytics","/users":"Usuarios","/ecommerce":"E-commerce","/settings":"Configuraci\xF3n","/blog":"Blog","/blog-details":"Detalles del Blog","/contacts":"Contactos","/user-profile":"Perfil de Usuario","/tables/basic":"Tablas B\xE1sicas","/tables/advanced":"Tablas Avanzadas","/tables/responsive":"Tablas Responsivas","/home-page":"P\xE1gina de Inicio","/frontend-pages":"P\xE1ginas Frontend","/frontend-pages/landing":"Landing Page","/frontend-pages/about":"Acerca de","/frontend-pages/pricing":"Precios","/calendar":"Calendario","/chat":"Chat","/email":"Email","/invoice":"Facturas","/kanban":"Kanban","/notes":"Notas","/portfolio":"Portfolio","/tickets":"Tickets","/employee":"Empleados"};onResize(){this.checkScreenSize()}ngOnInit(){this.checkScreenSize(),this.userSubscription=this.authService.currentUser$.subscribe(t=>{this.currentUser=t,this.cdr.markForCheck()}),this.routerSubscription=this.navigationService.currentRoute$.subscribe(t=>{this.currentRoute=t,this.updatePageTitle(t),this.cdr.markForCheck()}),this.router.events.pipe(U(t=>t instanceof G)).subscribe(t=>{this.updatePageTitle(t.url),this.cdr.markForCheck()})}updatePageTitle(t){let e=t.split("?")[0].split("#")[0];this.currentPageTitle=this.routeToPageTitle[e]||this.findPartialMatch(e)||"Dashboard"}findPartialMatch(t){for(let[e,i]of Object.entries(this.routeToPageTitle))if(t.startsWith(e)||e.startsWith(t))return i;return null}isActiveRoute(t){return this.currentRoute===t}ngOnDestroy(){this.routerSubscription.unsubscribe(),this.userSubscription.unsubscribe()}checkScreenSize(){this.isMobile=window.innerWidth<=768,this.isMobile?this.isSidebarOpen=!1:this.isSidebarOpen=!0}toggleSidebar(){this.isMobile?this.isSidebarOpen=!this.isSidebarOpen:this.isSidebarCollapsed=!this.isSidebarCollapsed}closeSidebar(){this.isMobile&&(this.isSidebarOpen=!1)}logout(){this.authService.logout()}navigateTo(t){this.navigationService.navigateTo(t),this.isMobile?(this.isSidebarOpen=!1,this.cdr.markForCheck()):this.isSidebarCollapsed&&this.isSidebarHovered&&(this.isSidebarHovered=!1,this.cdr.markForCheck())}onSidebarMouseEnter(){!this.isMobile&&this.isSidebarCollapsed&&(this.isSidebarHovered=!0,this.cdr.markForCheck())}onSidebarMouseLeave(){!this.isMobile&&this.isSidebarCollapsed&&(this.isSidebarHovered=!1,this.cdr.markForCheck())}shouldShowExpandedSidebar(){return this.isMobile?this.isSidebarOpen:!this.isSidebarCollapsed||this.isSidebarHovered}static \u0275fac=function(e){return new(e||n)(k(ce),k(N),k(D),k(z))};static \u0275cmp=E({type:n,selectors:[["app-layout"]],hostBindings:function(e,i){e&1&&m("resize",function(){return i.onResize()},B)},decls:5,vars:16,consts:[[1,"layout-container"],[3,"toggleSidebar","logout","currentUser","currentPage","isSidebarCollapsed","isMobile","isSidebarOpen","isSidebarHovered"],[3,"navigate","closeSidebar","mouseEnter","mouseLeave","logout","currentRoute","isCollapsed","isMobile","isOpen","isHovered","shouldShowExpanded"],[3,"isSidebarCollapsed","isSidebarHovered","isMobile"],[3,"isSidebarCollapsed"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"app-navbar",1),m("toggleSidebar",function(){return i.toggleSidebar()})("logout",function(){return i.logout()}),s(),r(2,"app-sidebar",2),m("navigate",function(u){return i.navigateTo(u)})("closeSidebar",function(){return i.closeSidebar()})("mouseEnter",function(){return i.onSidebarMouseEnter()})("mouseLeave",function(){return i.onSidebarMouseLeave()})("logout",function(){return i.logout()}),s(),d(3,"app-main-content",3)(4,"app-footer",4),s()),e&2&&(a(),x("currentUser",i.currentUser)("currentPage",i.currentPageTitle)("isSidebarCollapsed",i.isSidebarCollapsed)("isMobile",i.isMobile)("isSidebarOpen",i.isSidebarOpen)("isSidebarHovered",i.isSidebarHovered),a(),x("currentRoute",i.currentRoute)("isCollapsed",i.isSidebarCollapsed)("isMobile",i.isMobile)("isOpen",i.isSidebarOpen)("isHovered",i.isSidebarHovered)("shouldShowExpanded",i.shouldShowExpandedSidebar()),a(),x("isSidebarCollapsed",i.isSidebarCollapsed)("isSidebarHovered",i.isSidebarHovered)("isMobile",i.isMobile),a(),x("isSidebarCollapsed",i.isSidebarCollapsed))},dependencies:[M,$,Q,Z,K],encapsulation:2,changeDetection:0})};export{ve as LayoutComponent};
